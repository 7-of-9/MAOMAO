{"component":"module.exports=webpackJsonp([4],{1155:function(e,t,r){e.exports=r(533)},533:function(e,t,r){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(20),u=n(i),o=r(108),a=n(o),l=r(15),s=n(l),c=r(22),f=n(c),d=r(17),v=n(d),p=r(21),h=n(p),_=r(2),b=n(_),y=r(85),I=r(997),m=r(480),P=n(m),g=r(239),w=n(g),C=r(70),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(C),O=function(e){function t(e){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));M.warn(\"Invite\",e);var n=e.url.query,i=n.close,o=n.success;return i&&\"popup\"===i||o&&1===Number(o)?r.isClosePopup=!0:r.isClosePopup=!1,r.store=(0,I.initStore)(e.isServer,e.shareCode,e.shareInfo,e.isLogin),r}return(0,h.default)(t,e),(0,v.default)(t,null,[{key:\"getInitialProps\",value:function(e){var t=e.req,r=e.query,n=r.code,i=r.shareInfo,u=!!t,o=(0,I.initStore)(u,n,i,!1);return(0,a.default)({isServer:u},o)}}]),(0,v.default)(t,[{key:\"render\",value:function(){return b.default.createElement(y.Provider,{store:this.store},b.default.createElement(\"div\",null,b.default.createElement(\"style\",{dangerouslySetInnerHTML:{__html:w.default}}),b.default.createElement(P.default,{isClosePopup:this.isClosePopup})))}}]),t}(b.default.Component);t.default=O},994:function(e,t,r){\"use strict\";function n(e){return(0,u.fromPromise)(a.default.get(l.MAOMAO_API_URL+\"share/info?share_code=\"+e))}function i(e,t,r){var n=l.MAOMAO_API_URL+\"share/accept?user_id=\"+e+\"&hash=\"+t+\"&share_code=\"+r;return(0,u.fromPromise)(a.default.get(n))}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getShareInfo=n,t.acceptInvite=i;var u=r(356),o=r(260),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(123)},997:function(e,t,r){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,v.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function u(e,t,r,n,i){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,(\"value\"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),i&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(i):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return R.warn(\"init InviteStore\"),e&&\"undefined\"==typeof window?new k(e,t,r,n):(null===A&&(A=new k(e,t,r,n)),A)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.initStore=o;var a,l,s,c,f,d=r(89),v=n(d),p=r(266),h=n(p),_=r(20),b=n(_),y=r(15),I=n(y),m=r(22),P=n(m),g=r(17),w=n(g),C=r(21),M=n(C),O=r(33),z=r(70),R=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(z),S=r(481),j=r(994),A=null,k=(a=function(e){function t(e,r,n,u){(0,I.default)(this,t);var o=(0,P.default)(this,(t.__proto__||(0,b.default)(t)).call(this,e,u,!1));return i(o,\"shareCode\",l,o),i(o,\"acceptInviteResult\",s,o),i(o,\"inviteResult\",c,o),i(o,\"shareInfo\",f,o),o.shareCode=r,o.shareInfo=n,o}return(0,M.default)(t,e),(0,w.default)(t,[{key:\"acceptInviteCode\",value:function(){var e=this;R.warn(\"acceptInviteCode\",this.shareCode),this.acceptInviteResult=(0,j.acceptInvite)(this.userId,this.userHash,this.shareCode),(0,O.when)(function(){return\"pending\"!==e.acceptInviteResult.state},function(){e.inviteResult=e.acceptInviteResult.value,e.getUserHistory(),R.warn(\"inviteResult\",e.inviteResult)})}}]),t}(S.HomeStore),l=u(a.prototype,\"shareCode\",[O.observable],{enumerable:!0,initializer:function(){return\"\"}}),s=u(a.prototype,\"acceptInviteResult\",[O.observable],{enumerable:!0,initializer:function(){return{}}}),c=u(a.prototype,\"inviteResult\",[O.observable],{enumerable:!0,initializer:function(){return{}}}),f=u(a.prototype,\"shareInfo\",[O.observable],{enumerable:!0,initializer:function(){return{}}}),u(a.prototype,\"acceptInviteCode\",[O.action],(0,h.default)(a.prototype,\"acceptInviteCode\"),a.prototype),a)}},[1155]);"}